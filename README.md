## é¡¹ç›®ç®€ä»‹

[`youlai-aspnet`](https://gitee.com/youlaiorg/youlai-aspnet) æ˜¯ **[vue3-element-admin](https://gitee.com/youlaiorg/vue3-element-admin)** çš„ ASP.NET Core 8ï¼ˆ.NET 8ï¼‰åç«¯å®ç°ï¼Œæ¥å£è·¯å¾„ä¸è¿”å›ç»“æ„å®Œå…¨å¯¹é½ï¼Œå¯ç›´æ¥ä¸º `vue3-element-admin` å‰ç«¯é¡¹ç›®æä¾›åç«¯æœåŠ¡ï¼Œå½¢æˆå®Œæ•´çš„ **youlai å…¨å®¶æ¡¶**ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆã€‚

## é¡¹ç›®æºç 

| é¡¹ç›® | ä»“åº“åœ°å€ |
| --- | --- |
| **.NET åç«¯** | [https://gitee.com/youlaiorg/youlai-aspnet](https://gitee.com/youlaiorg/youlai-aspnet) |
| **Vue3 ç®¡ç†ç«¯** | [https://gitee.com/youlaiorg/vue3-element-admin](https://gitee.com/youlaiorg/vue3-element-admin) |

## æ ¸å¿ƒç‰¹æ€§

`youlai-aspnet` çš„è®¾è®¡åˆè¡·æ˜¯ä¸ºäº†æä¾›ä¸€ä¸ªç¨³å®šã€å®‰å…¨ä¸”æ˜“äºç»´æŠ¤çš„åç«¯åŸºç¡€ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åœ¨æŠ€æœ¯é€‰å‹å’ŒåŠŸèƒ½è®¾è®¡ä¸Šéƒ½éµå¾ªäº†ä¼ä¸šçº§æ ‡å‡†ï¼š

- **ğŸš€ æœ€æ–°æŠ€æœ¯æ ˆ**ï¼šé¡¹ç›®åŸºäº .NET 8 å’Œ ASP.NET Core 8 æ„å»ºï¼Œäº«å—é•¿æœŸæ”¯æŒï¼ˆLTSï¼‰å’Œæœ€æ–°çš„æ€§èƒ½ä¼˜åŒ–ã€‚æˆ‘ä»¬æ‰¿è¯ºä¼šæŒç»­è·Ÿè¿›æŠ€æœ¯ç¤¾åŒºï¼Œä¿æŒé¡¹ç›®æ´»åŠ›ã€‚

- **ğŸ” ä¼ä¸šçº§å®‰å…¨**ï¼šæ·±åº¦æ•´åˆ ASP.NET Core Identityï¼Œæä¾›åŸºäº JWT çš„æ— çŠ¶æ€è®¤è¯å’ŒåŸºäº Redis çš„ä¼šè¯ç®¡ç†åŒé‡æœºåˆ¶ã€‚ä½ å¯ä»¥æ ¹æ®ä¸šåŠ¡åœºæ™¯çµæ´»é€‰æ‹©ï¼Œè½»æ¾æ„å»ºé«˜å®‰å…¨æ€§çš„èº«ä»½éªŒè¯ä½“ç³»ã€‚

- **ğŸ”‘ ç²¾ç»†åŒ–æƒé™**ï¼šå†…ç½®ç»å…¸çš„ RBAC (åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶) æ¨¡å‹ï¼Œæƒé™æ§åˆ¶å¯ç²¾ç¡®åˆ°ç”¨æˆ·çš„èœå•ã€æŒ‰é’®ä¹ƒè‡³åç«¯çš„æ¯ä¸€ä¸ª API æ¥å£ï¼Œæ»¡è¶³å¤æ‚ä¸šåŠ¡åœºæ™¯ä¸‹çš„æƒé™éœ€æ±‚ã€‚

- **ğŸ› ï¸ å®Œå–„çš„åŠŸèƒ½æ¨¡å—**ï¼šæä¾›ç”¨æˆ·ã€è§’è‰²ã€èœå•ã€éƒ¨é—¨ã€å­—å…¸ç­‰å¼€ç®±å³ç”¨çš„æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼Œå¸®ä½ èŠ‚çœå¤§é‡åŸºç¡€åŠŸèƒ½çš„å¼€å‘æ—¶é—´ï¼Œè®©ä½ æ›´ä¸“æ³¨äºä¸šåŠ¡æœ¬èº«ã€‚

## æŠ€æœ¯æ ˆ

| åˆ†ç±»     | æŠ€æœ¯é€‰å‹                      | è¯´æ˜                |
| -------- | ----------------------------- | ------------------- |
| è¿è¡Œæ—¶   | .NET SDK 8                    | ç‰ˆæœ¬é”å®šï¼š`8.0.416` |
| Web æ¡†æ¶ | ASP.NET Core 8                | é«˜æ€§èƒ½ Web API æ¡†æ¶ |
| ORM      | Entity Framework Core (MySQL) | æ•°æ®è®¿é—®å±‚          |
| ç¼“å­˜     | Redis 7.x                     | ä¼šè¯å­˜å‚¨ã€æ•°æ®ç¼“å­˜  |
| è®¤è¯     | JWT Bearer                    | åŸºäºä»¤ç‰Œçš„èº«ä»½éªŒè¯  |
| æ¥å£æ–‡æ¡£ | Swagger/OpenAPI               | äº¤äº’å¼ API æ–‡æ¡£     |

## é¡¹ç›®ç›®å½•ç»“æ„

```bash
youlai-aspnet/
â”œâ”€ src/                             # æºç ç›®å½•
â”‚  â”œâ”€ Youlai.Api/                   # Web APIå±‚ï¼ˆæ§åˆ¶å™¨ã€ä¸­é—´ä»¶ã€è®¤è¯æˆæƒï¼‰
â”‚  â”œâ”€ Youlai.Application/           # åº”ç”¨å±‚ï¼ˆæœåŠ¡æ¥å£å®šä¹‰ã€DTOã€ä¸šåŠ¡é€»è¾‘ï¼‰
â”‚  â”œâ”€ Youlai.Domain/                # é¢†åŸŸå±‚ï¼ˆå®ä½“æ¨¡å‹ã€é¢†åŸŸå¯¹è±¡ã€æšä¸¾ï¼‰
â”‚  â””â”€ Youlai.Infrastructure/        # åŸºç¡€è®¾æ–½å±‚ï¼ˆEF Coreå®ç°ã€ä»“å‚¨ã€ç¼“å­˜ï¼‰
â”‚
â”œâ”€ sql/                             # æ•°æ®åº“è„šæœ¬
â”‚  â””â”€ mysql/
â”‚     â””â”€ youlai_admin.sql           # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ï¼ˆåŒ…å«è¡¨ç»“æ„å’ŒåŸºç¡€æ•°æ®ï¼‰
â”‚
â”œâ”€ tests/                           # æµ‹è¯•é¡¹ç›®
â”œâ”€ youlai-aspnet.sln                # Visual Studio è§£å†³æ–¹æ¡ˆæ–‡ä»¶
â””â”€ global.json                      # .NET SDKç‰ˆæœ¬é”å®šé…ç½®
```

## ç¯å¢ƒå‡†å¤‡

### 1. åŸºç¡€ç¯å¢ƒ

| è¦æ±‚ | è¯´æ˜ | å®‰è£…æŒ‡å¼• |
| --- | --- | --- |
| **.NET SDK 8** | 8.0.416 æˆ–æ›´é«˜ç‰ˆæœ¬ | [å®˜æ–¹ä¸‹è½½](https://dotnet.microsoft.com/zh-cn/download/dotnet/8.0) |
| **MySQL** | 5.7+ æˆ– 8.x | ä¸šåŠ¡æ•°æ®å­˜å‚¨ï¼Œå¿…éœ€å®‰è£…ï¼š[Windows](https://youlai.blog.csdn.net/article/details/133272887) / [Linux](https://youlai.blog.csdn.net/article/details/130398179) |
| **Redis** | 7.x ç¨³å®šç‰ˆ | ä¼šè¯ç¼“å­˜ï¼Œå¿…éœ€å®‰è£…ï¼š[Windows](https://youlai.blog.csdn.net/article/details/133410293) / [Linux](https://youlai.blog.csdn.net/article/details/130439335) |
| **MySQL å®¢æˆ·ç«¯** | Navicat / DBeaver / MySQL Workbench | æ¨èä½¿ç”¨å›¾å½¢åŒ–ç®¡ç†å·¥å…· |

> âš ï¸ **é‡è¦æç¤º**ï¼šMySQL ä¸ Redis ä¸ºé¡¹ç›®å¯åŠ¨å¿…éœ€ä¾èµ–ï¼Œè¯·ç¡®ä¿æœåŠ¡å·²å¯åŠ¨ã€‚

### 2. å¼€å‘å·¥å…·

**Visual Studio 2022+**ï¼ˆæ¨èï¼‰ï¼š

- ç¤¾åŒºç‰ˆå³å¯ï¼Œå®‰è£…å·¥ä½œè´Ÿè½½ï¼šASP.NET å’Œ Web å¼€å‘

**VS Code**ï¼š

1. å®‰è£… [.NET SDK 8](https://dotnet.microsoft.com/zh-cn/download/dotnet/8.0)

![](https://i-blog.csdnimg.cn/direct/a21efdc55d73434fbcbf09147b058515.png)

```
dotnet --version
```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/17ac80176b58491d81a02221b88b1123.png)

2. å®‰è£…ä»¥ä¸‹æ‰©å±•æ’ä»¶ï¼ˆVS Code æ‰©å±•å¸‚åœºæœç´¢å®‰è£…ï¼‰ï¼š

| æ’ä»¶åç§°                  | ä½œç”¨                    |
| ------------------------- | ----------------------- |
| **C# Dev Kit**            | .NET å¼€å‘æ ¸å¿ƒå¥—ä»¶ï¼Œå¿…å¤‡ |
| **C#**                    | C# è¯­è¨€æ”¯æŒ             |
| **NuGet Package Manager** | NuGet åŒ…ç®¡ç†            |

## æ•°æ®åº“åˆå§‹åŒ–

æ¨èä½¿ç”¨ **Navicat**ã€**DBeaver** æˆ– **MySQL Workbench** ç­‰æ•°æ®åº“ç®¡ç†å·¥å…·æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬ï¼š

1. æ‰“å¼€æ•°æ®åº“ç®¡ç†å·¥å…·ï¼Œè¿æ¥åˆ° MySQL æœåŠ¡å™¨
2. æ‰§è¡Œé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„è„šæœ¬æ–‡ä»¶ï¼š`sql/mysql/youlai_admin.sql`
3. è„šæœ¬ä¼šè‡ªåŠ¨åˆ›å»º `youlai_admin` æ•°æ®åº“åŠç›¸å…³è¡¨ç»“æ„
4. æ’å…¥åˆå§‹åŒ–æ•°æ®ï¼ˆåŒ…å«é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼šadmin/123456ï¼‰

## é…ç½®è¯´æ˜

å¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶ï¼š`src/Youlai.Api/appsettings.Development.json`

```json
{
  "Database": {
    "ConnectionString": "Server=localhost;Port=3306;Database=youlai_admin;User=root;Password=123456;"
  },
  "Redis": {
    "ConnectionString": "localhost:6379,password=,defaultDatabase=0"
  },
  "Security": {
    "Session": {
      "AccessTokenTimeToLive": 7200,
      "RefreshTokenTimeToLive": 604800,
      "Jwt": {
        "SecretKey": "è®¾ç½®ä¸€ä¸ªè‡³å°‘32ä½çš„å®‰å…¨å¯†é’¥"
      }
    }
  }
}
```

**é…ç½®é¡¹è¯´æ˜ï¼š**

- `Database:ConnectionString`ï¼šMySQL æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
- `Redis:ConnectionString`ï¼šRedis è¿æ¥é…ç½®
- `Security:Session:Jwt`ï¼šJWT è®¤è¯ç›¸å…³é…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…ä¿®æ”¹ SecretKeyï¼‰

## å¿«é€Ÿå¯åŠ¨

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://gitee.com/youlaiorg/youlai-aspnet.git
cd youlai-aspnet

# 2. ä¸‹è½½å¹¶è¿˜åŸé¡¹ç›®ä¾èµ–ï¼ˆNuGet åŒ…ï¼‰
dotnet restore

# 3. å¯åŠ¨é¡¹ç›®
dotnet run --project src/Youlai.Api -c Release

```

å¯åŠ¨æˆåŠŸåï¼Œä½ å¯ä»¥è®¿é—®ä»¥ä¸‹åœ°å€è¿›è¡ŒéªŒè¯ï¼š

- **Swagger æ–‡æ¡£**: [http://localhost:8000/swagger](http://localhost:8000/swagger)
- **å¥åº·æ£€æŸ¥**: [http://localhost:8000/health](http://localhost:8000/health)

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ API å·¥å…·ï¼ˆå¦‚ Postmanï¼‰æµ‹è¯•ç™»å½•æ¥å£ï¼š

- **URL**: `POST` [http://localhost:8000/api/v1/auth/login](http://localhost:8000/api/v1/auth/login)
- **è´¦å·**: `admin`
- **å¯†ç **: `123456`

## å‰ç«¯æ•´åˆ

`youlai-aspnet` ä¸“ä¸º `vue3-element-admin` è®¾è®¡ï¼Œå‰åç«¯å®Œå…¨å…¼å®¹ï¼š

```bash
# 1. è·å–å‰ç«¯é¡¹ç›®
git clone https://gitee.com/youlaiorg/vue3-element-admin.git
cd vue3-element-admin

# 2. å®‰è£…ä¾èµ–ï¼ˆæ¨èä½¿ç”¨ pnpmï¼‰
npm install -g pnpm
pnpm install

# 3. é…ç½®åç«¯æ¥å£åœ°å€
# ç¼–è¾‘ .env.development æ–‡ä»¶ï¼Œä¿®æ”¹ï¼š
VITE_APP_API_URL=http://localhost:8000

# 4. å¯åŠ¨å‰ç«¯
pnpm run dev

```

å¯åŠ¨å‰ç«¯æœåŠ¡åï¼Œè¯·è®¿é—®ä»¥ä¸‹åœ°å€ï¼š

- **è®¿é—®åœ°å€**: [http://localhost:3000](http://localhost:3000)
- **ç™»å½•è´¦å·**: `admin` / `123456`
- **ç³»ç»Ÿç‰¹ç‚¹**: èœå•ã€è·¯ç”±ã€æŒ‰é’®æƒé™å‡ç”±åç«¯åŠ¨æ€æ§åˆ¶ã€‚

## é¡¹ç›®éƒ¨ç½²

### 1. Windows éƒ¨ç½²ï¼ˆIISï¼‰

1. **å®‰è£… IIS**ï¼š
   - Windows æ§åˆ¶é¢æ¿ â†’ ç¨‹åº â†’ å¯ç”¨æˆ–å…³é—­ Windows åŠŸèƒ½
   - å‹¾é€‰ã€ŒInternet Information Servicesã€å’Œã€Œ.NET Core è¿è¡Œæ—¶ã€

2. **å‘å¸ƒé¡¹ç›®**ï¼š

   ```bash
   dotnet publish src/Youlai.Api -c Release -o ./publish
   ```

3. **é…ç½® IIS**ï¼š
   - æ‰“å¼€ IIS ç®¡ç†å™¨
   - å³é”®ã€Œç½‘ç«™ã€â†’ã€Œæ·»åŠ ç½‘ç«™ã€
   - è®¾ç½®ç½‘ç«™åç§°ã€ç‰©ç†è·¯å¾„ï¼ˆé€‰æ‹© publish æ–‡ä»¶å¤¹ï¼‰
   - è®¾ç½®ç«¯å£ï¼ˆå¦‚ 8000ï¼‰
   - åº”ç”¨ç¨‹åºæ± é€‰æ‹©ã€Œæ— æ‰˜ç®¡ä»£ç ã€

4. **å®‰è£… .NET Core Hosting Bundle**ï¼š
   - ä¸‹è½½å®‰è£…ï¼š[https://dotnet.microsoft.com/zh-cn/download/dotnet/8.0](https://dotnet.microsoft.com/zh-cn/download/dotnet/8.0)
   - é€‰æ‹©ã€Œ.NET Core Hosting Bundleã€ä¸‹è½½å®‰è£…

### 2. Windows éƒ¨ç½²ï¼ˆKestrelï¼‰

```bash
# 1. å‘å¸ƒé¡¹ç›®
dotnet publish src/Youlai.Api -c Release -o ./publish

# 2. é…ç½®å®ˆæŠ¤è¿›ç¨‹ï¼ˆä½¿ç”¨ NSSMï¼‰
# ä¸‹è½½ NSSMï¼šhttps://nssm.cc/download
nssm install YoulaiApi ./publish/Youlai.Api.exe
nssm set YoulaiApi AppDirectory ./publish
nssm set YoulaiApi AppParameters --urls http://*:8000

# 3. å¯åŠ¨æœåŠ¡
nssm start YoulaiApi
```

### 3. Linux éƒ¨ç½²

```bash
# 1. å®‰è£… .NET 8 Runtime
wget https://packages.microsoft.com/config/ubuntu/22.04/packages-microsoft-prod.deb
sudo dpkg -i packages-microsoft-prod.deb
sudo apt-get update
sudo apt-get install -y aspnetcore-runtime-8.0

# 2. å‘å¸ƒé¡¹ç›®
dotnet publish src/Youlai.Api -c Release -o ./publish

# 3. åˆ›å»ºæœåŠ¡æ–‡ä»¶
sudo nano /etc/systemd/system/youlai-api.service

# æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š
[Unit]
Description=Youlai API Service
After=network.target

[Service]
Type=notify
ExecStart=/usr/bin/dotnet /var/www/youlai-api/Youlai.Api.dll
WorkingDirectory=/var/www/youlai-api
User=www-data
Group=www-data
Restart=always

[Install]
WantedBy=multi-user.target

# 4. å¯åŠ¨æœåŠ¡
sudo systemctl enable youlai-api.service
sudo systemctl start youlai-api.service
```

### 4. Docker éƒ¨ç½²

```dockerfile
# Dockerfile
FROM mcr.microsoft.com/dotnet/aspnet:8.0 AS base
WORKDIR /app
EXPOSE 80
COPY ./publish .
ENTRYPOINT ["dotnet", "Youlai.Api.dll"]
```

æ„å»ºå¹¶è¿è¡Œï¼š

```bash
docker build -t youlai-aspnet .
docker run -d -p 8000:80 --name youlai-api youlai-aspnet
```

## æŠ€æœ¯äº¤æµ

- **é—®é¢˜åé¦ˆ**ï¼š[Gitee Issues](https://gitee.com/youlaiorg/youlai-aspnet/issues)
- **æŠ€æœ¯äº¤æµç¾¤**ï¼š[QQ ç¾¤ï¼š950387562](https://qm.qq.com/cgi-bin/qm/qr?k=U57IDw7ufwuzMA4qQ7BomwZ44hpHGkLg)
- **åšå®¢æ•™ç¨‹**ï¼š[https://www.youlai.tech](https://www.youlai.tech)

---

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ Star â­ æ”¯æŒï¼**
